<div ng-controller="SystemManagerCntl">
	<table id="templateTable" ae-datagrid
		on-select-function="selectTableRow" style="width: 99%; height: 450px;"
		title="应用系统列表"
		data-options="url:'../../system_service/systems',method:'get',singleSelect:true,rownumbers:true,pagination:true,toolbar: '#tb'">
		<thead>
			<tr>
				<th data-options="field:'systemName'" width="140">应用系统名称</th>
				<th data-options="field:'systemCode',align:'center'" width="250">应用系统编码</th>
				<th data-options="field:'systemSecret',align:'center'" width="250">应用系统密钥</th>
				<th data-options="field:'systemUrl',align:'center'" width="260">应用系统地址</th>
				<th data-options="field:'createBy',align:'center'" width="80">创建用户</th>
				<th data-options="field:'createDate',align:'center'" width="100">创建时间</th>
				<th data-options="field:'modifyBy',align:'center'" width="80">修改用户</th>
				<th data-options="field:'modifyDate',align:'center'" width="100">修改时间</th>
			</tr>
		</thead>
	</table>

	<div id="tb" style="height: auto">
		<a ae-linkbutton on-click-function="reloadTable"
			href="javascript:void(0)"
			data-options="iconCls:'icon-reload',plain:true">刷新</a> <a
			id="createSystem" ae-linkbutton on-click-function="createSystem"
			href="javascript:void(0)"
			data-options="iconCls:'icon-add',plain:true">创建</a> <a
			id="editSystem" ae-linkbutton on-click-function="editSystem"
			href="javascript:void(0)"
			data-options="iconCls:'icon-edit',plain:true,disabled:true">修改</a> <a
			id="removeSystem" ae-linkbutton on-click-function="removeSystem"
			href="javascript:void(0)"
			data-options="iconCls:'icon-remove',plain:true,disabled:true">删除</a>
	</div>

	<div id="createSystemTemplate" ae-window title="应用系统创建"
		data-options="modal:true,closed:true,iconCls:'icon-add'"
		style="width: 300px; height: 300px; padding: 30px 60px">
		<form id="createForm" novalidate>
			<div style="margin-bottom: 20px">
				<label for="systemCode">应用系统编码:</label> <input ae-textbox
					textbox-value="system.systemCode"
					data-options="prompt:'应用系统编码',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div style="margin-bottom: 20px">
				<label for="systemName">应用系统名称:</label> <input ae-textbox
					textbox-value="system.systemName"
					data-options="prompt:'应用系统名称',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div style="margin-bottom: 20px">
				<label for="systemSecret">应用系统密钥:</label> <input ae-textbox
					textbox-value="system.systemSecret"
					data-options="prompt:'应用系统密钥',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div style="margin-bottom: 20px">
				<label for="systemUrl">应用系统地址:</label> <input ae-textbox
					textbox-value="system.systemUrl"
					data-options="prompt:'应用系统地址',validType:'url',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div>
				<a href="#" ae-linkbutton iconCls="icon-save"
					on-click-function="submitCreateForm"
					style="width: 100%; height: 26px">保存</a>
			</div>
		</form>
	</div>

	<div id="editSystemTemplate" ae-window title="应用系统修改"
		data-options="modal:true,closed:true,iconCls:'icon-edit'"
		style="width: 300px; height: 300px; padding: 30px 60px">
		<form id="editForm" novalidate>
			<input type="hidden" name="systemId" />
			<div style="margin-bottom: 20px">
				<label for="systemCode">应用系统编码:</label> <input ae-textbox
					textbox-value="selectedSystem.systemCode" name="systemCode"
					data-options="prompt:'应用系统编码',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div style="margin-bottom: 20px">
				<label for="systemName">应用系统名称:</label> <input ae-textbox
					textbox-value="selectedSystem.systemName" name="systemName"
					data-options="prompt:'应用系统名称',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div style="margin-bottom: 20px">
				<label for="systemSecret">应用系统密钥:</label> <input ae-textbox
					textbox-value="selectedSystem.systemSecret" name="systemSecret"
					data-options="prompt:'应用系统密钥',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div style="margin-bottom: 20px">
				<label for="systemUrl">应用系统地址:</label> <input ae-textbox
					textbox-value="selectedSystem.systemUrl" name="systemUrl"
					data-options="prompt:'应用系统地址',validType:'url',required:true"
					style="width: 100%; height: 26px" />
			</div>
			<div>
				<a href="#" ae-linkbutton iconCls="icon-save"
					on-click-function="submitEditForm"
					style="width: 100%; height: 26px">保存</a>
			</div>
		</form>
	</div>

	<div id="removeSystemTemplate" ae-window title="应用系统删除"
		data-options="modal:true,closed:true,iconCls:'icon-remove'"
		style="width: 300px; height: 300px; padding: 30px 60px">
		<p style="margin-bottom: 50px; margin-left: 20px">确定要删除应用系统？</p>
		<div>
			<a href="#" ae-linkbutton iconCls="icon-ok"
				on-click-function="submitRemoveForm"
				style="float: left; width: 40%; height: 26px">确定</a> <a href="#"
				ae-linkbutton iconCls="icon-cancel" on-click-function="closeWindow"
				style="float: right; width: 40%; height: 26px">取消</a>
		</div>
	</div>
</div>